{"version":3,"sources":["ContextStore.js","components/Header/Header.js","components/Footer/Footer.js","utils/nft-market.js","components/ProductCard/ProductCard.js","utils/mint-nft.js","Pages/Categories.js","Pages/CreateSell.js","utils/ipfs.js","Pages/Error404.js","App.js","reportWebVitals.js","index.js"],"names":["Context","React","createContext","ContextStore","children","useState","userData","setUserData","useEffect","providerValue","useMemo","Provider","value","Header","ethereum","window","currentAccount","setCurrentAccount","history","useHistory","a","console","log","request","method","then","accounts","length","init_application","on","go","connectWalletHandler","web3Modal","Web3Modal","network","cacheProvider","providerOptions","connect","Navbar","collapseOnSelect","bg","variant","className","Brand","to","Toggle","Collapse","id","Nav","onClick","push","pathname","substring","Footer","href","target","rel","require","config","NFT_CONTRACT","process","MARKET_CONTRACT","GetMarketItems","marketContract","methods","fetchMarketItems","call","YourNFTsListing","fetchMyNFTsListingOnMarket","AddNewListing","web3","tokenId","price","priceToWei","utils","toWei","toString","tx","selectedAddress","toHex","Number","Math","pow","addListing","encodeABI","confirmMetamask","alert","UpdateListing","updateListing","CancelListing","cancelListing","BuyNFT","from","data","buyItem","params","transactionReceipt","ProductCard","type","current_wallet","nftContract","nftData","setNftData","priceSell","setPriceSell","Web3","currentProvider","tokenUri","fetch","response","json","responseJson","catch","error","getNFTData","changePrice","e","onSubmitSellNFT","onSubmitUpdatePriceNFT","onSubmitBuyNFT","onSubmitCancelSellNFT","Card","Img","src","image","Body","Title","name","description","fromWei","seller","InputGroup","FormControl","min","placeholder","onChange","Text","Button","MAIN_ADDRESS","MintNFT","tokenURI","eth","getTransactionCount","nonce","mintItem","signTransaction","signedTx","sendSignedTransaction","rawTransaction","JSON","stringify","getTokenUri","tokenID","NFTsByOwner","owner_address","getNFTsByOwner","Categories","account","setAccount","products","setProducts","yourNftListing","setYourNftListing","marketItems","setMarketItems","isMounted","isConnected","init_page","Contract","Market","abi","NFT","your_nfts","Promise","all","map","it_tokenId","item","your_listing","it_listing","market_items","mark","i","owner","sold","itemId","Row","x_item","key","Col","xs","md","lg","client","create","host","port","protocol","path","uploadFileToIPFS","file","add","url","uploadedImageUrl","metadata","metadataRes","metaDataUrl","metaDataHashCID","imageHashCID","AddProduct","submitForm","setSubmitForm","quantity","setQuantity","nftImage","setNftImage","nftTitle","setNftTitle","nftDescription","setNftDescription","onChangeHandler","files","onSubmitHandler","index","result","status","Form","Group","as","controlId","Label","Control","required","rows","accept","disabled","Error404","style","textAlign","Image","fluid","App","exact","component","CreateSell","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2db28665.chunk.js","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\n// import { useCookies } from 'react-cookie'\nexport const Context = React.createContext();\n\nexport const ContextStore = ({ children }) => {\n    let initialValue = null;\n    // const [cookies, setCookie, removeCookie] = useCookies(['USER_SESSION']);\n    const [userData, setUserData] = useState(initialValue)\n    \n    useEffect(() => {\n        //if (cookies.USER_SESSION) {\n            // fetch(`/auth/getUser`).then(res => res.json())\n            //     .then(res => {\n            //         return setUserData(res.user)\n            //     })\n        //}\n    }, [])\n\n    // console.log(userData)\n    const providerValue = useMemo(() => ({ userData, setUserData }), [userData, setUserData])\n\n    return (\n        <Context.Provider value={providerValue}>\n            {children}\n        </Context.Provider>\n    )\n}","import React, { /* useContext, */ useEffect, useState } from 'react';\nimport { Navbar, Nav} from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport './Header.css'\nimport { useHistory } from 'react-router';\nimport Web3Modal from \"web3modal\";\n\nconst Header = () => {\n    const { ethereum } = window;\n    const [currentAccount, setCurrentAccount] = useState('');\n    const history = useHistory();\n\n    useEffect(() => {\n        async function init_application() {\n            const { ethereum } = window;\n            if (!ethereum) {\n              console.log('Please install Metamask')\n              return;\n            }\n            \n            ethereum.request({method: 'eth_accounts'}).then((accounts) => {\n                if (accounts.length > 0) {\n                  setCurrentAccount(accounts[0])\n                  console.log(accounts);\n                }\n            });\n        }\n\n        init_application();\n    }, [currentAccount]);\n\n    ethereum.on('accountsChanged', (accounts) => {\n        history.go(0);\n    });\n\n    const connectWalletButton = () => {\n        return (\n          <button onClick={connectWalletHandler} className='btn btn-primary connect-wallet-button'>\n            Connect Wallet\n          </button>\n        )\n    }\n\n    const connectWalletHandler = async () => {\n        const { ethereum } = window;\n        if (!ethereum) {\n          console.log('Please install Metamask')\n          return;\n        }\n\n      \n        try {\n          const web3Modal = new Web3Modal({\n            network: \"bsc\", // optional\n            cacheProvider: true, // optional\n            providerOptions: {}, // required\n          });\n          await web3Modal.connect();\n          const accounts = await ethereum.request({method: 'eth_accounts'})\n          if (accounts && accounts.length > 0) {\n            setCurrentAccount(accounts[0])\n          }\n        } catch (error) {\n          console.log(error)\n        }\n    }\n\n    const mintNftButton = () => {\n        return (\n            <button onClick={()=>{history.push({ pathname: '/add-product' })}} className='btn btn-primary connect-wallet-button'>\n              Mint NFT\n            </button>\n        )\n    }\n\n    const chunkStrAccount = () => {\n      return '****' + currentAccount.substring(currentAccount.length - 10);\n    }\n\n    return (\n        <Navbar collapseOnSelect bg=\"light\" variant=\"light\">\n            <div className=\"container\">\n                <Navbar.Brand>\n                    <NavLink className=\"navbar-brand\" to=\"/\">All for you...</NavLink>\n                </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                        {/* <Nav.Link href=\"#features\">Features</Nav.Link>\n                        <Nav.Link href=\"#pricing\">Pricing</Nav.Link> */}\n                    </Nav>\n                    {currentAccount ?\n                        (<Nav>\n                            {mintNftButton()}\n\n                            <p className=\"mx-3\">{chunkStrAccount()}</p>\n                        </Nav>)\n                        :\n                        (<Nav>\n                            {connectWalletButton()}\n                        </Nav>)\n                    }\n                </Navbar.Collapse>\n            </div>\n        </Navbar>\n    )\n}\n\nexport default Header;","import './Footer.css';\nimport { AiFillInstagram, AiFillLinkedin } from 'react-icons/ai'; \nimport { FaFacebook } from 'react-icons/fa';\n\nfunction Footer() {\n    return (\n        <footer>\n            <div className=\"container\">\n                <div className=\"connections\">\n                    <a href=\"/#\" id=\"instaIcon\"><AiFillInstagram /></a>\n                    <a href=\"/#\" id=\"fbIcon\"><FaFacebook /></a>\n                    <a href=\"https://www.linkedin.com/in/iva-tosheva/\" target=\"_blank\" rel=\"noreferrer\" id=\"linkedIcon\"><AiFillLinkedin /></a>\n                </div>\n                All Rights Reserved &copy; 2021 &#8226;\n                <a href=\"https://github.com/Angel-Sky/ReactJS-Project\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>\n            </div>\n        </footer >\n    )\n}\n\nexport default Footer;","require('dotenv').config();\n\nconst { ethereum } = window;\n\nconst NFT_CONTRACT = process.env.REACT_APP_NFT_CONTRACT;\nconst MARKET_CONTRACT = process.env.REACT_APP_MARKET_CONTRACT;\nconst GAS_PRICE = process.env.REACT_APP_GAS_PRICE;\n\nconst GetMarketItems = async (marketContract) => {\n    return await marketContract.methods.fetchMarketItems().call();\n}\n\nconst YourNFTsListing = async (marketContract) => {\n    return await marketContract.methods.fetchMyNFTsListingOnMarket().call();\n}\n\nconst AddNewListing = async (marketContract, web3, tokenId, price) => {\n    let priceToWei = web3.utils.toWei(price.toString(), 'ether');\n    if (tokenId > 0 ) {\n        const tx = {\n            'from': ethereum.selectedAddress,\n            'to': MARKET_CONTRACT,\n            \"gasPrice\": web3.utils.toHex(Number(GAS_PRICE) * Math.pow(10, 9)),\n            \"gasLimit\": web3.utils.toHex(500000), // fixed gasLimit\n            \"value\": web3.utils.toHex(0), // fixed gasLimit\n            'data': marketContract.methods.addListing(NFT_CONTRACT, tokenId, priceToWei).encodeABI(),\n        };\n        return await confirmMetamask(tx);\n    } else {\n        alert('Token ID invalid');\n        return false;\n    }\n}\n\nconst UpdateListing = async (marketContract, web3, tokenId, price) => {\n    let priceToWei = web3.utils.toWei(price.toString(), 'ether');\n    if (tokenId > 0 ) {\n        const tx = {\n            'from': ethereum.selectedAddress,\n            'to': MARKET_CONTRACT,\n            \"value\": web3.utils.toHex(0), // fixed gasLimit\n            'data': marketContract.methods.updateListing(tokenId, priceToWei).encodeABI(),\n        };\n        return await confirmMetamask(tx);\n    } else {\n        alert('Token ID invalid');\n        return false;\n    }\n}\n\nconst CancelListing = async (marketContract, web3, tokenId) => {\n    if (tokenId > 0 ) {\n        const tx = {\n            'from': ethereum.selectedAddress,\n            'to': MARKET_CONTRACT,\n            \"value\": web3.utils.toHex(0), // fixed gasLimit\n            'data': marketContract.methods.cancelListing(NFT_CONTRACT, tokenId).encodeABI(),\n        };\n        return await confirmMetamask(tx);\n    } else {\n        alert('Token ID invalid');\n        return false;\n    }\n}\n\nconst BuyNFT = async (marketContract, web3, tokenId, price) => {\n    console.log(price.toString())\n    if (tokenId > 0 ) {\n        const tx = {\n            from: ethereum.selectedAddress,\n            to: MARKET_CONTRACT,\n            value: web3.utils.toHex(price.toString()),\n            data: marketContract.methods.buyItem(NFT_CONTRACT, tokenId).encodeABI(),\n        };\n        return await confirmMetamask(tx);\n    } else {\n        alert('Token ID invalid');\n        return false;\n    }\n}\n\nconst confirmMetamask = async (tx) => {\n    console.log(tx)\n    const transactionReceipt = await ethereum.request({\n        method: 'eth_sendTransaction',\n        params: [\n            tx\n        ]\n    }).then(console.log);\n\n    return transactionReceipt;\n}\n\nexport {AddNewListing, GetMarketItems, BuyNFT, YourNFTsListing, UpdateListing, CancelListing}","import { Button, Card, FormControl, InputGroup } from 'react-bootstrap';\nimport { useEffect, useState } from 'react';\nimport Web3 from \"web3\";\nimport { Link, /* useHistory */ } from 'react-router-dom';\nimport { AddNewListing, BuyNFT, UpdateListing, CancelListing } from '../../utils/nft-market.js';\n\nfunction ProductCard({ params, type, current_wallet = '', web3, marketContract, nftContract }) {\n    const [nftData, setNftData] = useState({})\n    const [priceSell, setPriceSell] = useState(0)\n\n    if (web3 === null || web3 === '') {\n        if (window.ethereum) {\n            web3 = new Web3(window.ethereum);\n        } else if (window.web3) {\n            web3 = new Web3(window.web3.currentProvider);\n        };\n    }\n\n    useEffect(() => {\n        async function getNFTData() {\n            if (params.tokenUri !== null && params.tokenUri !== '') {\n                return await fetch(params.tokenUri, {method: \"GET\"})\n                .then((response) => response.json())\n                .then((responseJson) => {\n                    setNftData(responseJson);\n                    return responseJson;\n                })\n                .catch((error) => {\n                  console.error(error);\n                });\n            }\n        }\n\n        getNFTData()\n    },[params.tokenUri, web3]);\n\n    const changePrice = (e) => {\n        setPriceSell(e.target.value)\n    }\n\n    const onSubmitSellNFT = async (e) => {\n        if (priceSell > 0 && params.tokenId > 0) {\n            await AddNewListing(marketContract, web3, params.tokenId, priceSell)\n        } else {\n            alert('Price > 0');\n        }\n        setPriceSell(0)\n    }\n\n    const onSubmitUpdatePriceNFT = async (e) => {\n        if (priceSell > 0 && params.tokenId > 0) {\n            await UpdateListing(marketContract, web3, params.tokenId, priceSell)\n        } else {\n            alert('Price > 0')\n        }\n        setPriceSell(0);\n    }\n\n    const onSubmitBuyNFT = async () => {\n        if (params.tokenId > 0) {\n            let result = await BuyNFT(marketContract, web3, params.tokenId, params.price);\n            if (result) {\n                alert('Please wait confirmation from Metamask');\n            }\n        }\n    }\n\n    const onSubmitCancelSellNFT = async () => {\n        if (params.tokenId > 0) {\n            let result = await CancelListing(marketContract, web3, params.tokenId)\n            if (result) {\n                alert('Please wait confirmation from Metamask');\n            }\n        }\n    }\n\n    const handleButtonWithType = () => {\n        if (type === 'mynft') {\n            return (\n                <div>\n                    <InputGroup className=\"mb-3\">\n                        <FormControl type=\"number\" min=\"0\"  placeholder=\"Price\" onChange={(e) => changePrice(e)} aria-describedby=\"basic-addon2\"/> \n                        <InputGroup.Text id=\"basic-addon2\">BNB</InputGroup.Text>\n                    </InputGroup>\n                    <Button className=\"w-100\" onClick={() => onSubmitSellNFT()}>Sell</Button>\n                </div>\n            );\n        } else if (type === 'mylisting') {\n            return (\n                <div>\n                    <InputGroup className=\"mb-3\">\n                        <FormControl type=\"number\" min=\"0\"  placeholder=\"Price\" onChange={(e) => changePrice(e)} aria-describedby=\"basic-addon2\"/> \n                        <InputGroup.Text id=\"basic-addon2\">BNB</InputGroup.Text>\n                    </InputGroup>\n                    <Button className=\"w-100\" onClick={() => onSubmitUpdatePriceNFT()}>Update Price</Button>\n                    <hr />\n                    <Button className=\"w-100 bg-danger text-white\" onClick={() => onSubmitCancelSellNFT()}>Cancel Listing</Button>\n                </div>\n            );\n        } else if (type === 'market') {\n            return (\n                <Button className=\"w-100\" onClick={() => onSubmitBuyNFT()}>Buy</Button>\n            );\n        }\n    }\n\n    return (\n        <Card>\n            <Link to={`#`}>\n                <Card.Img variant=\"top\" src={nftData.image} />\n                <Card.Body>\n                    <Card.Title>{nftData.name}</Card.Title>\n                    <small className=\"text-muted\">{nftData.description}</small>\n                    <br />\n                    {\n                        params.price && web3 !== null ?\n                        <small className='text-sm'>Price: {web3.utils.fromWei(params.price.toString(),'ether')} BNB</small>\n                        :\n                        ''\n                    }\n                </Card.Body>\n            </Link>\n            <Card.Footer>\n                <small className=\"text-muted\">\n                    {params.seller ? params.seller : ''}\n                </small>\n                { handleButtonWithType() }\n            </Card.Footer>\n        </Card>\n    )\n}\n\nexport default ProductCard;","require('dotenv').config();\n\nconst MAIN_ADDRESS = process.env.REACT_APP_MAIN_ADDRESS;\nconst PRIVATE_KEY = process.env.REACT_APP_PRIVATE_KEYS;\nconst GAS_PRICE = process.env.REACT_APP_GAS_PRICE;\nconst NFT_CONTRACT = process.env.REACT_APP_NFT_CONTRACT;\n\n// const { ethereum } = window;\n\nconst MintNFT = async (nftContract, web3, tokenURI) => {\n    //step 3: Define the minting function\n    const nonce = await web3.eth.getTransactionCount(MAIN_ADDRESS, 'latest'); //get latest nonce\n\n    //the transaction\n    const tx = {\n        'from': MAIN_ADDRESS,\n        'to': NFT_CONTRACT,\n        'nonce': nonce,\n        \"gasPrice\": web3.utils.toHex(Number(GAS_PRICE) * Math.pow(10, 9)),\n        \"gasLimit\": web3.utils.toHex(500000), // fixed gasLimit\n        \"value\": web3.utils.toHex(0), // fixed gasLimit\n        'data': nftContract.methods.mintItem(MAIN_ADDRESS, tokenURI).encodeABI()\n    };\n\n    console.log(tx)\n    //step 4: Sign the transaction\n    const signedTx = await web3.eth.accounts.signTransaction(tx, PRIVATE_KEY);\n    console.log(signedTx)\n    const transactionReceipt = await web3.eth.sendSignedTransaction(signedTx.rawTransaction);\n    \n    console.log(`Transaction receipt: ${JSON.stringify(transactionReceipt)}`);\n    return transactionReceipt;\n}\n\nconst getTokenUri = async (nftContract, tokenID) => {\n    return await nftContract.methods.tokenURI(tokenID).call();\n}\n\nconst NFTsByOwner = async (nftContract, owner_address) => {\n    return await nftContract.methods.getNFTsByOwner(owner_address).call();\n}\n\nexport {MintNFT, getTokenUri, NFTsByOwner}","import { useEffect, useState } from 'react';\nimport ProductCard from '../components/ProductCard/ProductCard';\nimport { Col, Row } from 'react-bootstrap';\nimport '../components/Categories/Categories.css';\nimport '../components/ProductCard/ProductCard.css';\nimport { GetMarketItems, YourNFTsListing } from '../utils/nft-market.js';\nimport { getTokenUri, NFTsByOwner } from '../utils/mint-nft.js';\nimport Market from \"../truffle/abis/NFTMarket.json\";\nimport NFT from \"../truffle/abis/DauDQNFT.json\";\nimport Web3 from \"web3\";\n\nconst { ethereum } = window;\nconst NFT_CONTRACT = process.env.REACT_APP_NFT_CONTRACT;\nconst MARKET_CONTRACT = process.env.REACT_APP_MARKET_CONTRACT;\n\nlet web3;\nlet marketContract;\nlet nftContract;\n\nfunction Categories( ) {\n    const [account, setAccount] = useState('')\n    const [products, setProducts] = useState([]);\n    const [yourNftListing, setYourNftListing] = useState([])\n    const [marketItems, setMarketItems] = useState([])\n\n    useEffect(() => {\n        let isMounted = true;  \n        if (!ethereum) {\n            console.log('Please install Metamask')\n            return;\n        }\n\n        if (!ethereum.isConnected()) {\n            return false;\n        }\n        \n        // let your_nfts = [];\n        const init_page = async () => {\n            ethereum.request({method: 'eth_accounts'}).then(async (accounts) => {\n                if (accounts.length > 0) {\n                    setAccount(accounts[0]);\n                    if (window.ethereum) {\n                        web3 = new Web3(window.ethereum);\n                    } else if (window.web3) {\n                        web3 = new Web3(window.web3.currentProvider);\n                    };\n                \n                    marketContract = new web3.eth.Contract(Market.abi, MARKET_CONTRACT,{from: ethereum.selectedAddress});\n                    nftContract = new web3.eth.Contract(NFT.abi, NFT_CONTRACT, {from: ethereum.selectedAddress});\n        \n                    if (isMounted) {\n                        let your_nfts = await NFTsByOwner(nftContract, accounts[0]);\n                        console.log(your_nfts);\n                        your_nfts = await Promise.all(your_nfts.map(async it_tokenId => {\n                            let tokenUri = await getTokenUri(nftContract, it_tokenId)\n                            let item = {\n                                tokenId: it_tokenId.toString(),\n                                tokenUri\n                            }\n                            return item\n                        }));\n                        setProducts(your_nfts)\n\n                        let your_listing = await YourNFTsListing(marketContract);\n                        console.log(your_listing)\n                        your_listing = await Promise.all(your_listing.map(async it_listing => {\n                            let item = {\n                                tokenId: it_listing.tokenId.toString()\n                            };\n                            if (it_listing.tokenId !== '0') {\n                                let tokenUri = await getTokenUri(nftContract, it_listing.tokenId)\n                                console.log(it_listing.tokenId !== '0')\n                                item = {\n                                    tokenId: it_listing.tokenId.toString(),\n                                    tokenUri\n                                }\n                            }\n                            return item\n                        }));\n                        setYourNftListing(your_listing);\n        \n                        let market_items =  await GetMarketItems(marketContract);\n                        market_items = await Promise.all(market_items.map(async i => {\n                            let tokenUri = await getTokenUri(nftContract, i.tokenId)\n                            let item = {\n                              price: i.price.toString(),\n                              tokenId: i.tokenId.toString(),\n                              seller: i.seller,\n                              owner: i.owner,\n                              tokenUri,\n                              sold: i.sold,\n                              itemId: i.itemId\n                            }\n                            return item\n                        }))\n                        setMarketItems(market_items);\n                    }\n                }\n            });\n\n        }\n        init_page();\n        return () => { isMounted = false };\n    }, [account])\n\n      return (\n        <>\n            <div className=\"container\">\n                <hr/>\n                <label>\n                    Your NFT\n                </label>\n                <Row>\n                    {products.length > 0 && web3 !== null ? products\n                    .map((x_item, key) =>\n                        <Col xs={12} md={6} lg={3} key={key}>\n                            <ProductCard params={x_item} type=\"mynft\" web3={web3} marketContract={marketContract} nftContract={nftContract}/>\n                        </Col>\n                    )\n                    :\n                    <Col><small>You don't have NFTs</small></Col>\n                    }\n                </Row>\n                <hr/>\n                <label>\n                    Your NFT Listing on Market\n                </label>\n                <Row>\n                    {yourNftListing.length > 0 && web3 !== null ? yourNftListing\n                    .map((x_item, key) =>\n                        <Col xs={12} md={6} lg={3} key={key}>\n                            <ProductCard params={x_item} type=\"mylisting\" web3={web3} marketContract={marketContract} nftContract={nftContract}/>\n                        </Col>\n                    )\n                    :\n                    <Col><small>You don't have NFTs</small></Col>\n                    }\n                </Row>\n                <hr/>\n                <label>\n                    Marketplace\n                </label>\n                <Row>\n                    {marketItems.length > 0 && web3 !== null ? marketItems\n                    .map((x_item, key) =>\n                        <Col xs={12} md={6} lg={3} key={key}>\n                            <ProductCard params={x_item} type=\"market\" current_wallet={account} web3={web3} marketContract={marketContract} nftContract={nftContract}/>\n                        </Col>\n                    )\n                    :\n                    <Col><small>No NFTs on marketplace</small></Col>\n                    }\n                </Row>\n            </div>\n        </>\n    )\n}\n\nexport default Categories;","import Web3 from \"web3\";\nimport React, { useEffect, useState } from \"react\";\nimport { Form, Button, Col} from 'react-bootstrap';\nimport '../components/CreateSell/CreateSell.css';\nimport NFT from \"../truffle/abis/DauDQNFT.json\";\nimport { uploadFileToIPFS } from '../utils/ipfs.js';\nimport { MintNFT } from '../utils/mint-nft.js';\n\nconst { ethereum } = window;\nconst NFT_CONTRACT = process.env.REACT_APP_NFT_CONTRACT;\n\nlet web3;\nlet nftContract;\n\nrequire('dotenv').config();\n\nfunction AddProduct() {\n    const [submitForm, setSubmitForm] = useState(false);\n    const [quantity, setQuantity] = useState('');\n    const [nftImage, setNftImage] = useState('');\n    const [nftTitle, setNftTitle] = useState('');\n    const [nftDescription, setNftDescription] = useState('');\n\n    useEffect(() => { \n        if (!ethereum || !ethereum.isConnected()) {\n            console.log('Please install Metamask')\n            return;\n        }        \n        \n        const init_page = async () => {\n            ethereum.request({method: 'eth_accounts'}).then(async (accounts) => {\n                if (accounts.length > 0) {\n                    if (window.ethereum) {\n                        web3 = new Web3(window.ethereum);\n                    } else if (window.web3) {\n                        web3 = new Web3(window.web3.currentProvider);\n                    };\n                    nftContract = new web3.eth.Contract(NFT.abi, NFT_CONTRACT);\n                }\n            });\n        }\n        init_page();\n    }, []);\n\n    const onChangeHandler = (e, name) =>  {\n        switch (name) {\n            case 'image':\n                setNftImage(e.target.files[0]);\n                console.log('set image');\n                break;\n            case 'title':\n                setNftTitle(e.target.value);\n                console.log('set title');\n                break;\n            case 'description':\n                setNftDescription(e.target.value);\n                console.log('set description');\n                break;\n            case 'quantity':\n                setQuantity(e.target.value);\n                console.log('set quantity');\n                break;\n            default:\n                break;\n        }\n    }\n\n    const onSubmitHandler = async (e) => {\n        if (!nftImage || !nftTitle || !nftDescription) {\n            alert('Please fill info');\n            return false;\n        }\n        setSubmitForm(true);\n        uploadFileToIPFS(nftImage, nftTitle, nftDescription).then(async (response) => {\n            console.log(response);\n            let result;\n            for (let index = 1; index <= quantity; index++) {\n                if (response.metaDataUrl !== '' && response.metaDataUrl !== null) {\n                    result = await MintNFT(nftContract, web3, response.metaDataUrl);\n                }\n            }\n            if (result.status === true || result.status === 'true') {\n                alert('Success');\n            }\n            setSubmitForm(false);\n        });\n    }\n\n    return (\n        <>\n            <div className='container'>\n                <h1 className=\"heading\">Add a Product</h1>\n                {/* <Form onSubmit={onSubmitHandler()}> */}\n                    <Form.Row>\n                        <Form.Group as={Col} controlId=\"formGridTitle\">\n                            <Form.Label>quantity</Form.Label>\n                            <Form.Control type=\"number\" placeholder=\"Enter quantity\" name=\"quantity\" min=\"1\" required onChange={(e) => {onChangeHandler(e, 'quantity')}} />\n                        </Form.Group>\n                    </Form.Row>\n                    <Form.Row>\n                        <Form.Group as={Col} controlId=\"formGridTitle\">\n                            <Form.Label>Title</Form.Label>\n                            <Form.Control type=\"text\" placeholder=\"Enter title\" name=\"title\" required onChange={(e) => {onChangeHandler(e, 'title')}} />\n                        </Form.Group>\n                    </Form.Row>\n\n                    <Form.Group controlId=\"formGridDescription.ControlTextarea1\">\n                        <Form.Label>Description</Form.Label>\n                        <Form.Control as=\"textarea\" rows={3} name=\"description\" required onChange={(e) => {onChangeHandler(e, 'description')}} />\n                    </Form.Group>\n\n                    <Form.Row>\n                        <Form.Group as={Col} controlId=\"formGridImage\" >\n                            <Form.Label>Image</Form.Label>\n                            <Form.Control name=\"image\" accept=\"image/*\" type=\"file\" required onChange={(e) => {onChangeHandler(e, 'image')}} />\n                        </Form.Group>\n                    </Form.Row>\n                    <Button className=\"col-lg-12\" variant=\"dark\" type=\"button\" onClick={(e) => {onSubmitHandler()}} disabled={submitForm}>Add product</Button>\n                {/* </Form> */}\n            </div>\n        </>\n    )\n}\n\nexport default AddProduct;","/* eslint-disable */\nconst { create } = require(\"ipfs-http-client\");\n\nconst client = create({\n  host: \"ipfs.infura.io\",\n  port: 5001,\n  protocol: \"https\",\n  path: \"api/v0\",\n});\n\n// THIS FUNCTION MUST BE CALLED WITH YOUR IMAGE 'FILE' BEING PASSED IN AS AN ARGUMENT\n// I SUGGEST PASSING IN A BLOB OF THE FILE OR A DATA URI OBJECT OF AN IMAGE\nexport const uploadFileToIPFS = async (file, name, description) => {\n  try {\n    //1 ADD File to IPFS\n    const url = await client.add(file);\n    const uploadedImageUrl = `https://ipfs.infura.io/ipfs/${url?.path}`;\n\n    //2 ADD Metadata to IPFS\n    const metadata = {\n      name: name,\n      description: description,\n      image: uploadedImageUrl,\n    };\n    const metadataRes = await client.add(JSON.stringify(metadata));\n    const metaDataUrl = `https://ipfs.infura.io/ipfs/${metadataRes?.path}`;\n\n    console.log(metaDataUrl)\n\n    // IF YOU WISH TO PIN YOUR FILE HERE IS THE COMMAND\n    // YOU WILL NEED TO ADD AN AUTH HEADER TO YOUR REQUEST IN ORDER TO PIN USING INFURA\n    // AT TIME OF WRITING THIS (Sept 2021) THERE IS A BUG FOR USING PIN COMMAND FROM THE FRONT END\n    //await client.pin.add(metadataRes?.path);\n\n    //3 return image & metadata URLs and also the CID for each\n    return {\n      uploadedImageUrl,\n      metaDataUrl,\n      metaDataHashCID: metadataRes?.path,\n      imageHashCID: url?.path,\n    };\n  } catch (e) {\n    console.log(\"error uplaoding to IPFS\", e);\n  }\n};\n","import { Image } from 'react-bootstrap';\n\nfunction Error404() {\n    return (\n        <div className=\"container\" style={{textAlign: \"center\"}}>\n            <Image src=\"http://store.picbg.net/pubpic/32/E3/c2b456c4b2d532e3.jpg\" fluid />\n        </div>\n    )\n}\n\nexport default Error404;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom';\nimport Header from './components/Header/Header';\nimport Footer from './components/Footer/Footer';\nimport Categories from './Pages/Categories';\nimport CreateSell from './Pages/CreateSell';\nimport Error404 from './Pages/Error404';\n\nfunction App() {\n   return (\n      <>\n         <Header />\n         <Switch>\n            <Route path=\"/\" exact component={Categories} />\n            <Route path='/add-product' exact component={CreateSell} />;\n            <Route component={Error404} />\n         </Switch>\n         <Footer />\n      </>\n   );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ContextStore } from './ContextStore';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n   // <React.StrictMode>\n      <ContextStore>\n         <BrowserRouter>\n            <App />\n         </BrowserRouter>\n      </ContextStore>,\n   // </React.StrictMode>,\n   document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}